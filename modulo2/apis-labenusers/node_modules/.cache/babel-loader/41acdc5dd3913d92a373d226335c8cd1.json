{"ast":null,"code":"import _regeneratorRuntime from\"/home/wilson/ailton-Wilson-Castro/modulo2/apis-labenusers/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/wilson/ailton-Wilson-Castro/modulo2/apis-labenusers/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/wilson/ailton-Wilson-Castro/modulo2/apis-labenusers/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/wilson/ailton-Wilson-Castro/modulo2/apis-labenusers/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/wilson/ailton-Wilson-Castro/modulo2/apis-labenusers/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/wilson/ailton-Wilson-Castro/modulo2/apis-labenusers/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _taggedTemplateLiteral from\"/home/wilson/ailton-Wilson-Castro/modulo2/apis-labenusers/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import React,{Component}from'react';import axios from'axios';import styled from'styled-components';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n\"])));var CardUsuario=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  border: 1px solid black;\\n  padding: 10px;\\n  margin: 10px;\\n  width: 600px;\\n  display: flex;\\n  justify-content: space-evenly;\\n  align-items: center;\\n  font-weight: bold;\\n  text-transform: uppercase;\\n\"])));var Button=styled.button(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  background-color: #e8f5f4;\\n  border: none;\\n  padding: 10px;\\n  border-radius: 15px;\\n  width: 200px;\\n  font-size: 16px;\\n  :hover {\\n    background-color: #a9b6c0;\\n  }\\n\"])));var BotaoDel=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  background-color: #b6f3c3;\\n  width: 60px;\\n  text-align: center;\\n  border-radius: 15px;\\n  font-weight: bold;\\n  padding: 10px;\\n  display: flex;  \\n  justify-content: center;\\n\"])));var TelaListaUsuarios=/*#__PURE__*/function(_React$Component){_inherits(TelaListaUsuarios,_React$Component);var _super=_createSuper(TelaListaUsuarios);function TelaListaUsuarios(){var _this;_classCallCheck(this,TelaListaUsuarios);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={usuarios:[]};_this.pegarUsuarios=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"https://us-central1-labenu-apis.cloudfunctions.net/labenusers/users\";_context.prev=1;_context.next=4;return axios.get(url,{headers:{Authorization:\"wilson-castro-ailton\"}});case 4:res=_context.sent;//Tudo dando certo vai guardar o resultado abaixo.\n_this.setState({usuarios:res.data});//Caso contrário dará erro.\n_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);alert(\"Ocorreu um problema, tente novamente\");case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));_this.deletarUsuario=function(id){if(window.confirm(\"Tem certeza que deseja deletar o usuário?\")){var url=\"https://us-central1-labenu-apis.cloudfunctions.net/labenusers/users/\".concat(id);axios.delete(url,{headers:{Authorization:\"wilson-castro-ailton\"}}).then(function(res){alert(\"Usuário deletado com sucesso!\");_this.pegarUsuarios();}).catch(function(err){alert(\"Ocorreu um erro, tente novamente\");});}};return _this;}_createClass(TelaListaUsuarios,[{key:\"componentDidMount\",value:function componentDidMount(){this.pegarUsuarios();}/* **********Sem Usar o Método Async/Await********** */ // pegarUsuarios = () => {\n//   const url = \"https://us-central1-labenu-apis.cloudfunctions.net/labenusers/users\"\n//   axios.get(url, {\n//     headers: {\n//       Authorization: \"wilson-castro-ailton\"\n//     }\n//   })\n//     .then((res) => {\n//       this.setState({ usuarios: res.data })\n//     })\n//     .catch((err) => {\n//       alert(\"Ocorreu um problema, tente novamente\")\n//     })\n// }\n/* **********Método Async/Await********** */},{key:\"render\",value:function render(){var _this2=this;var listaUsuarios=this.state.usuarios.map(function(user){return/*#__PURE__*/_jsxs(CardUsuario,{children:[user.name,/*#__PURE__*/_jsx(BotaoDel,{onClick:function onClick(){return _this2.deletarUsuario(user.id);},children:\"Apagar\"}),/*#__PURE__*/_jsx(Button,{onClick:_this2.props.irParaDetalheUser,children:\"Ver Detalhes\"})]},user.id);});return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Button,{onClick:this.props.irParaCadastro,children:\"Ir para cadastro\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Lista de Usu\\xE1rios\"}),listaUsuarios]});}}]);return TelaListaUsuarios;}(React.Component);export{TelaListaUsuarios as default};","map":{"version":3,"names":["React","Component","axios","styled","Container","div","CardUsuario","Button","button","BotaoDel","TelaListaUsuarios","state","usuarios","pegarUsuarios","url","get","headers","Authorization","res","setState","data","alert","deletarUsuario","id","window","confirm","delete","then","catch","err","listaUsuarios","map","user","name","props","irParaDetalheUser","irParaCadastro"],"sources":["/home/wilson/ailton-Wilson-Castro/modulo2/apis-labenusers/src/components/TelaListaUsuarios.js"],"sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`\nconst CardUsuario = styled.div`\n  border: 1px solid black;\n  padding: 10px;\n  margin: 10px;\n  width: 600px;\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  font-weight: bold;\n  text-transform: uppercase;\n`\nconst Button = styled.button`\n  background-color: #e8f5f4;\n  border: none;\n  padding: 10px;\n  border-radius: 15px;\n  width: 200px;\n  font-size: 16px;\n  :hover {\n    background-color: #a9b6c0;\n  }\n`\nconst BotaoDel = styled.div`\n  background-color: #b6f3c3;\n  width: 60px;\n  text-align: center;\n  border-radius: 15px;\n  font-weight: bold;\n  padding: 10px;\n  display: flex;  \n  justify-content: center;\n`\n\nexport default class TelaListaUsuarios extends React.Component {\n\n  state = {\n    usuarios: []\n  }\n\n  componentDidMount() {\n    this.pegarUsuarios()\n  }\n  /* **********Sem Usar o Método Async/Await********** */\n  // pegarUsuarios = () => {\n  //   const url = \"https://us-central1-labenu-apis.cloudfunctions.net/labenusers/users\"\n  //   axios.get(url, {\n  //     headers: {\n  //       Authorization: \"wilson-castro-ailton\"\n  //     }\n  //   })\n  //     .then((res) => {\n  //       this.setState({ usuarios: res.data })\n  //     })\n  //     .catch((err) => {\n  //       alert(\"Ocorreu um problema, tente novamente\")\n  //     })\n  // }\n\n  /* **********Método Async/Await********** */\n\n  pegarUsuarios = async() => {\n    const url = \"https://us-central1-labenu-apis.cloudfunctions.net/labenusers/users\"\n\n    try {\n    const res = await axios.get(url, {\n      headers: {\n        Authorization: \"wilson-castro-ailton\"\n      }\n    })\n    //Tudo dando certo vai guardar o resultado abaixo.\n      this.setState({ usuarios: res.data })\n    //Caso contrário dará erro.\n      }catch(err) {\n        alert(\"Ocorreu um problema, tente novamente\")\n      }\n    }\n\n\n  deletarUsuario = (id) => {\n    if(window.confirm(\"Tem certeza que deseja deletar o usuário?\")) {\n    const url = `https://us-central1-labenu-apis.cloudfunctions.net/labenusers/users/${id}`\n    axios.delete(url, {\n      headers: {\n        Authorization: \"wilson-castro-ailton\"\n      }\n    })\n      .then((res) => {\n        alert(\"Usuário deletado com sucesso!\")\n        this.pegarUsuarios()\n      })\n      .catch((err) => {\n        alert(\"Ocorreu um erro, tente novamente\")\n      })\n  }\n}\n\nrender() {\n\n  const listaUsuarios = this.state.usuarios.map((user) => {\n    return <CardUsuario key={user.id}>\n      {user.name}\n      <BotaoDel onClick={() => this.deletarUsuario(user.id)}>Apagar</BotaoDel>\n      <Button onClick={this.props.irParaDetalheUser}>Ver Detalhes</Button>\n    </CardUsuario>\n  })\n  \n  return (\n    <Container>\n      <Button onClick={this.props.irParaCadastro}>Ir para cadastro</Button>\n      <h2>Lista de Usuários</h2>\n      {listaUsuarios}\n   \n    </Container>\n  )\n}\n}"],"mappings":"gkCAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,OAAP,KAAmB,mBAAnB,C,wFAEA,GAAMC,UAAS,CAAGD,MAAM,CAACE,GAAV,oKAAf,CAMA,GAAMC,YAAW,CAAGH,MAAM,CAACE,GAAV,qRAAjB,CAWA,GAAME,OAAM,CAAGJ,MAAM,CAACK,MAAV,oPAAZ,CAWA,GAAMC,SAAQ,CAAGN,MAAM,CAACE,GAAV,0PAAd,C,GAWqBK,kB,mXAEnBC,K,CAAQ,CACNC,QAAQ,CAAE,EADJ,C,OAyBRC,a,wEAAgB,iJACRC,GADQ,CACF,qEADE,uCAIIZ,MAAK,CAACa,GAAN,CAAUD,GAAV,CAAe,CAC/BE,OAAO,CAAE,CACPC,aAAa,CAAE,sBADR,CADsB,CAAf,CAJJ,QAIRC,GAJQ,eASd;AACE,MAAKC,QAAL,CAAc,CAAEP,QAAQ,CAAEM,GAAG,CAACE,IAAhB,CAAd,EACF;AAXc,+EAaVC,KAAK,CAAC,sCAAD,CAAL,CAbU,oE,SAkBhBC,c,CAAiB,SAACC,EAAD,CAAQ,CACvB,GAAGC,MAAM,CAACC,OAAP,CAAe,2CAAf,CAAH,CAAgE,CAChE,GAAMX,IAAG,+EAA0ES,EAA1E,CAAT,CACArB,KAAK,CAACwB,MAAN,CAAaZ,GAAb,CAAkB,CAChBE,OAAO,CAAE,CACPC,aAAa,CAAE,sBADR,CADO,CAAlB,EAKGU,IALH,CAKQ,SAACT,GAAD,CAAS,CACbG,KAAK,CAAC,+BAAD,CAAL,CACA,MAAKR,aAAL,GACD,CARH,EASGe,KATH,CASS,SAACC,GAAD,CAAS,CACdR,KAAK,CAAC,kCAAD,CAAL,CACD,CAXH,EAYD,CACF,C,8EAvDC,4BAAoB,CAClB,KAAKR,aAAL,GACD,CACD,uD,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,4C,sBAsCF,iBAAS,iBAEP,GAAMiB,cAAa,CAAG,KAAKnB,KAAL,CAAWC,QAAX,CAAoBmB,GAApB,CAAwB,SAACC,IAAD,CAAU,CACtD,mBAAO,MAAC,WAAD,YACJA,IAAI,CAACC,IADD,cAEL,KAAC,QAAD,EAAU,OAAO,CAAE,yBAAM,OAAI,CAACX,cAAL,CAAoBU,IAAI,CAACT,EAAzB,CAAN,EAAnB,oBAFK,cAGL,KAAC,MAAD,EAAQ,OAAO,CAAE,MAAI,CAACW,KAAL,CAAWC,iBAA5B,0BAHK,GAAkBH,IAAI,CAACT,EAAvB,CAAP,CAKD,CANqB,CAAtB,CAQA,mBACE,MAAC,SAAD,yBACE,KAAC,MAAD,EAAQ,OAAO,CAAE,KAAKW,KAAL,CAAWE,cAA5B,8BADF,cAEE,4CAFF,CAGGN,aAHH,GADF,CAQD,C,+BAjF8C9B,KAAK,CAACC,S,SAAhCS,iB"},"metadata":{},"sourceType":"module"}